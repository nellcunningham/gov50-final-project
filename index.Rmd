---
title: "Gov 50 Final Project"
author: "Nell Cunningham"
description: "My final project"
output:
  distill::distill_article:
    self_contained: false
---



## Introduction

How does position affect productivity? In looking at NBA player performance in the 2022-2023 season based on point contribution, can any patterns be observed between specific player positions and overall measurable success or lack thereof? I hypothesize that, on average, forwards and point guards will receive higher overall ratings and that centers and shooting guards will generally receive lower ratings. Since the turn of the century, only six times has a regular season MVP been a center, and only once has an MVP been a shooting guard. The other 17 MVPs have all been point guards or forwards. Oftentimes, measures of greatness in sports require tangible, statistical evidence to be supported. Because of this, it seems likely that those who have been deemed greatest or most valuable must have strong personal stats. Therefore, exclusively on the basis of measurable performance, it follows that the positions with the most appearances on the list of MVP award recipients in recent years should have a direct correlation with overall performance measurement by way of overall point contribution per possession.

```{r}
library(tidyverse)
players <- read_csv("players_data - Sheet2.csv")
players
```
## Data

For this project, I am using a data set which utilizes FiveThirtyEight's NBA statistic, "RAPTOR", to track points per possession for all 2023 NBA players. RAPTOR stands for "Robust Algorithm (using) Player Tracking (and) On/Off Ratings" and is a metric used to evaluate and quantify player performance. In this project, the explanatory variable of interest is player position, which is less of a measurable variable and more of a categorical variable which divides the data entries (all 2023 NBA players) into five categories based on position. My outcome variable of interest is points contributed per 100 possessions calculated for each entry (player). In the data set that I am using, this variable is measured in nine different ways which differ in their attention to variations such as offensive versus defensive productivity as well as isolated personal productivity versus personal productivity taking into consideration other players on and off the court and other confounding factors. In order to come to the most all-encompassing conclusions, I will be focusing on the `raptor_total` variable, which is essentially a cumulative points per possession rating calculated based on the other more specific variables previously explained. 

## Results 

```{r}
position_spread <- players |>
  ggplot(mapping = aes(x = position)) +
  geom_bar(fill = "steelblue1") +
  labs(x = "Player Position", y = "Count")
position_spread
```
The above graph represents the spread of player position across all 2023 NBA players. Player position is graphed on the x-axis, and the number of players at each position is mapped on the y-axis. 
```{r}
top_position_spread <- players |>
  filter(raptor_total > 0) |>
  ggplot(mapping = aes(x = position)) +
  geom_bar(fill = "indianred1") +
  labs(title = "Position Spread for Players with Positive Overall Efficiency Scores", 
       x = "Player Position", y = "Count")
top_position_spread
```
The above graph is the same as the first, except that it only maps the players with a positive overall efficiency score, which equates to the 196 players with the highest overall efficiency scores.
```{r}
pos_mean <- players |>
  filter(raptor_total > 0) |>
  group_by(position) |>
  summarize(rap_mean = mean(raptor_total))
pos_mean
rap_plot <- pos_mean |>
  ggplot(mapping = aes(x = position, y = rap_mean)) +
  geom_col(fill = "coral") +
  labs(title = "Average Efficiency Score By Player Position", 
       caption = "*only mapping players with a positive efficiency score", 
       x = "Player Position", y = "Average Efficiency Score")
rap_plot
```

```{r}
knitr::kable(pos_mean, col.names = c("Player Position", "Average Efficiency Score"))
```

```{r}
rap_fit <- lm(rap_mean ~ position, data = pos_mean)
var_labels <- c("(Intercept)" = "Intercept", "positionPF" = "Power Forward",
                "positionPG" = "PointGuard", "positionSF" = "Small Forward", 
                "positionSG" = "Shooting Guard")
modelsummary::modelsummary(rap_fit,
                           statistic = c("s.e. = {std.error}",
                                         "p = {p.value}"),
                           coef_map = var_labels,
                           gof_map = c("nobs", "r.squared", "adj.r.squared"))
```

Among the top 196 players in the data set (those with a positive overall RAPTOR efficiency score), shooting guards, on average, reported the highest efficiency scores, while small forwards reported the lowest. In order from greatest to smallest, the average efficiency scores of power forwards, point guards, and centers fell in between the averages of shooting guards and small forwards. Although centers, falling second lowest on average efficiency ratings, do not disprove my hypothesis, the sheer dominance of shooting guards in this comparison strongly counters my hypothesis of shooting guards being outperformed, on average, by forwards and point guards. 












